"use strict";

var _globals = require("@jest/globals");
var _core = require("@babel/core");
var _nodeFs = _interopRequireDefault(require("node:fs"));
var _nodePath = _interopRequireDefault(require("node:path"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
_globals.it.each(['imports', 'exports'])(`adds extension to %s`, async name => {
  const filepath = _nodePath.default.resolve(__dirname, `../__fixtures__/project/code/$${name}-input.ts`);
  const result = await (0, _core.transformFileAsync)(filepath, {
    configFile: false,
    babelrc: false,
    plugins: ['@babel/plugin-syntax-typescript', [require.resolve('../babel.ts'), {
      extension: 'mjs'
    }]]
  });
  const expected = await _nodeFs.default.promises.readFile(_nodePath.default.resolve(__dirname, `../__fixtures__/project/code/$${name}-output.ts`), 'utf8');
  (0, _globals.expect)(result?.code).toEqual(expected.trim());
});
//# sourceMappingURL=index.test.js.map